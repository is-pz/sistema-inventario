{% extends "base.html.twig" %}


{% block container %}
	<div class="col-lg-8 mx-auto mt-3 p-3">
		<div class="card" style="width: 100%;">
			<div class="card-body">
				<div class="card-title col-lg-12 row">
                    <h5 class="col">
						<i class="bi bi-currency-dollar"></i>
                        Edicion de venta
                    </h5>
                    
                    <div class="col">
                        <a href="{{ full_url_for("show_sell", {'id': sell.id}) }}" class="btn btn-primary">
							Regresar
                        </a>
                    </div>
				</div>

				<div>
					<p>Campos requeridos <span class="text-danger" style="font-size:20px;">*</span></p>
				</div>

				<form action="{{ full_url_for('update_sell', {'id': sell.id}) }}" method="POST" class="row" >
					<div class="mb-3 col-lg-6">
						<label for="idProducto" class="form-label">Producto: <span class="text-danger" style="font-size:20px;">*</span></label>
						<select class="form-select" aria-label="idProducto" id="idProducto" name="idProducto">
							<option disabled>Seleccione un producto</option>
							{% for product in products %}
								<option value="{{ product.id }}" data-precio="{{ product.precioPublico }}"
									{% if product.id == sell.idProducto %} selected {% endif %}
								>  
									{{ product.nombreProducto }}  
								 </option>
							{% endfor %}
						</select>
					</div>
					
					<div class="mb-3 col-lg-6">
						<label for="precioVenta" class="form-label">Precio de venta: <span class="text-danger" style="font-size:20px;">*</span></label>
						<input type="text" value="{{ sell.precioVenta }}" placeholder="$" name="precioVenta" class="form-control" id="precioVenta" require>
					</div>
					<div class="mb-3 col-lg-6">
						<label for="cantidadVendido" class="form-label">Cantidad vendidos: <span class="text-danger" style="font-size:20px;">*</span></label>
						<input type="text" value="{{ sell.cantidadVendidos }}" placeholder="$" name="cantidadVendido" class="form-control" id="cantidadVendido" require>
					</div>
					<div class="form-floating">
						<textarea class="form-control" placeholder="Ingrese una breve descripción" name="descripcionProducto" id="descripcionProducto" style="height: 100px">{{ sell.descripcionVenta }}</textarea>
						<label for="descripcionProducto">Descripción de la venta:</label>
					</div>	

					<button class="btn btn-success rounded col-lg-4 mx-auto mt-3" type="submit" >Guardar</button>
				</form>
			</div>
		</div>
	</div>
{% endblock %}

{% block scriptSection %}
	<script src="/assets/js/sells/index.js"></script>
{% endblock %} 
